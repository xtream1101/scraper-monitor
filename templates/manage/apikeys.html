{% extends "layout.html" %}
{% block body %}
<div id="main" class="container">

    <form  action="" method="post" id="add-apikey" class="form-horizontal">
        <h4>Generate New Api Key</h4>

        <input type="text" id="name" name="name" class="input-large"
        placeholder="Key name" value="{{ request.form.name }}"
        required>

        <input type="text" id="host" name="host" class="input-xlarge"
        placeholder="Allowed Host" value="{{ request.form.host }}">

        <select id="organization" class="select-organization" name="organization">
            <!-- TODO: Default to current user -->
            {%- for organization in current_user.organizations %}
            <option value="{{ organization.id }}">{{ organization.name }}</option>
            {%- endfor %}        
        </select>

        <button type="submit" class="btn btn-success">Generate key</button>
    </form>

    <h2>All API Keys</h2>
    <table id="tbl-manage-apikeys" class="display table-hover table-striped">
        <thead>
            <tr>
                <th>rowId</th>
                <th>Organization</th>
                <th>Name</th>
                <th>Key</th>
                <th>Host</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

</div>
{% endblock %}
